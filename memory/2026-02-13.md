# 2026-02-13

## Proactive Run (10:29 UTC)

### Research
- Recent merges: Poncho v0.0.30 + stream hardening + Cmd+Q fix (#139), x402email security hardening + subdomain inboxes, x402scan data API endpoints + CLI refactor
- Open issues: x402scan #633 (docs fix - Next.js path + viem examples), poncho #129 (source citations), #115/#114 (chat icon), #95 (chat search), #70 (virtualization)
- No new open issues on x402email or agentupload

### Action
- Fixed x402scan#633: corrected Next.js route path in DISCOVERY.md (`app/api/.well-known/x402/` → `app/.well-known/x402/`), added viem and Foundry `cast` signing examples
- PR: https://github.com/Merit-Systems/x402scan/pull/639

## ElevenLabs Outreach (03:00-04:00 UTC)

- Researched ElevenLabs via Apollo enrichx402: org ID 62cf12618ef56c00b3c01e1b, 340 emp, $1B total funding (Series D Feb 2026), $330M revenue
- Target contact: Sam Sklar (Growth) — sam@elevenlabs.io — also a16z Scout, Stanford CS, ex-Intuit/Facebook
- Co-founders: Piotr Dąbkowski, Mati Staniszewski
- Drafted cold email v1-v8 with Sam Ragsdale's feedback: all lowercase, casual, mentions a16z connection + Coinbase/x402 + "agent without a voice"
- Sent final email from craig@craig.x402email.com to sam@elevenlabs.io, CC sam@merit.systems
- replyTo set to craig@craig.x402email.com (new subdomain inbox)

## Subdomain Inbox (03:22 UTC)

- Purchased craig@craig.x402email.com inbox ($0.25, 500 msg cap, retainMessages enabled)
- Updated HEARTBEAT.md with daily email check at 10am ET (hour 14 UTC)
- Tracks notified emails in ~/.craig-notified-emails to prevent duplicates

## TTS Prospect Research (04:30-05:00 UTC)

- Researched 15 ElevenLabs competitors for x402 TTS integration outreach
- Used Apollo enrichx402 to find org details + leadership contacts
- Key findings:
  - Rime: Head of Eng Matthew Kim is ex-Coinbase (2017-2019) — strongest ammo for x402 pitch
  - Cartesia: Head of Platform Kunal Shah ex-Google/Facebook, Head of Product Israel Shalom ran Google APIs Platform
  - LMNT: Both founders ex-Google (16+ combined years)
  - Resemble AI: Has dedicated Head of Partnerships (Will Krispin, ex-Uber BD)
  - Altered AI: Founder ex-Google Research 8 years in speech/voice
  - PlayHT: Acquired by Meta (dead prospect)
  - Coqui: 4 people, likely dead
- Reports uploaded to agentupload.dev: tts-prospects.html, tts-outreach-targets.html
- Emailed report link to sam@merit.systems as reminder

## Poncho PRs

- PR #139: faster Cmd+Q (remove 3s stream drain await on quit)
- PR #145: subagent tool call animations (slide + blur using motion/react, same pattern as fortell-sieve RunningJobRow)
- PR #12 (CraigClaw): peak RAM monitoring heartbeat

## CAIA Briefing Fix

- Cron schedule was wrong: `0 14 * * *` (2pm ET) instead of `0 10 * * *` (10am ET) — fixed
- Cron `run` command times out (gateway timeout 60s) but scheduled auto-trigger should work
- Manually fired Feb 13 briefing via sessions_spawn, all 8 emails delivered
- Mason feedback: styling must match Feb 12 original (parchment bg, not dark), must hyperlink to sources

## Poncho Screen Recording

- Successfully ran Poncho Electron app on headless EC2 via Xvfb
- Required: git-lfs (claude binary was LFS pointer), --no-sandbox, --disable-gpu flags
- Recorded full demo: invite code CRAIG, typed prompt, 12+ tool calls executed
- Video: https://f.agentupload.dev/vx85k8h42k/poncho-demo-v3.mp4
- Testing PR #144 (sam/stream-isolation) with 3 chats + rapid switching — in progress

## Disk Usage Investigation

- Poncho: 4.6GB (1.8GB node_modules, 1.4GB .git, 1.4GB LFS binaries)
- StableStudio: 2.5GB
- upstream openclaw (~/Code/openclaw/openclaw): 2.2GB — SAFE TO DELETE, fork exists at ~/Code/Merit-Systems/openclaw
- Disk at 72%, need to clean up

## Key Memories Burned

- Always use agentupload.dev for uploads (never catbox)
- Always run CI checks locally before PRs
- OpenClaw fork cloned to ~/Code/Merit-Systems/openclaw
- CAIA styling: parchment bg #fdf6e3, red stamps, blue Comic Sans annotations, coffee stain, hyperlink everything
- craig-ram-monitor.service running (samples every 15s, writes peak to /tmp/craig-ram-peak)

## Poncho Headless Screen Recording — Battle-Tested Playbook

### What Worked (across 4 attempts)

**Run 1 (v1):** Got app to invite code screen, recorded it, but couldn't proceed without invite code. Learned: Xvfb + ffmpeg + xdotool all work fine on this EC2 box.

**Run 2 (v2 — failed):** Electron couldn't find DISPLAY. The `claude` LFS binary was a pointer file (133 bytes instead of 213MB). Learned: MUST run `git lfs pull` after cloning Poncho.

**Run 3 (v3 — success):** Full demo. App was already authed from v1's invite code entry. Typed prompt, agent ran 12+ tool calls, 5 min recording. Video: 6.8MB, valid mp4.

**Run 4 (PR#144 test — success with timeout):** Anti-thrash strategy worked perfectly. Only 5 screenshots, all 3 chats created, rapid switching recorded. ffmpeg cleanly shut down with SIGINT. Sub-agent timed out during upload but video was valid. Uploaded manually after.

### Mandatory Setup Steps for Poncho Dev on EC2

1. **git lfs pull** — The `claude` binary in `apps/desktop/assets/bin/` is tracked by Git LFS. Without this, Electron launches but the agent backend crashes with EPIPE. This is the #1 gotcha.
2. **Install system deps:** `sudo apt-get install -y xvfb xdotool libnss3 libatk-bridge2.0-0 libdrm2 libxkbcommon0 libgbm1 libasound2t64 git-lfs scrot`
3. **Electron flags** — Add before `async function main()` in `apps/desktop/src/main/index.ts`:
   ```
   app.commandLine.appendSwitch('no-sandbox');
   app.commandLine.appendSwitch('disable-gpu');
   app.commandLine.appendSwitch('disable-software-rasterizer');
   ```
4. **Xvfb:** `Xvfb :99 -screen 0 1280x720x24 -ac &`
5. **pnpm install** then **DISPLAY=:99 pnpm dev**
6. **Auth persists** — Once invite code is entered, it persists in Electron's app data across runs. Don't need to re-enter.

### Anti-Thrash Rules for Sub-Agents

These rules dramatically improved reliability on run 4:

1. **Screenshot budget:** Max 15 total. Never take 2 without an action in between.
2. **No polling loops.** Sleep 10-15s, check once. Don't poll every 2s.
3. **ffmpeg shutdown: ALWAYS use `kill -2` (SIGINT)** — SIGTERM/SIGKILL corrupts the mp4 (no moov atom). Wait 5s after SIGINT for finalization.
4. **Save ffmpeg PID explicitly** and echo it to the log file.
5. **Time-box phases:** Setup 2min, launch 2min, interaction 5min, cleanup 2min.
6. **Log every action with timestamp** to a file — if the agent gets killed, we know where it died.
7. **Don't retry more than once** — if something fails twice, document and move on.
8. **NODE_OPTIONS="--max-old-space-size=128"** on mcporter calls to prevent heap bloat OOM kills.

### What DOESN'T Work / Known Issues

- `du` on large directories (poncho node_modules) can get OOM killed — scan specific subdirs instead
- mcporter processes sometimes get SIGKILL'd — not real system OOM, it's Node heap bloat. Use --max-old-space-size flag.
- The `claude` binary may crash with EPIPE on headless — tool calls still show in UI briefly before error dialog appears
- File manager can pop up if xdotool clicks the wrong area — be precise with coordinates, chat input is bottom-center (~640, 680)
- Sub-agents can timeout during upload phase — always verify video exists and is valid before the agent tries to upload

### Poncho CI (from CLAUDE.md + .github/workflows)

- `pnpm check` runs `turbo run lint typecheck test knip format:check`
- Protected stream files: DO NOT MODIFY `stream-lifecycle.ts`, `chat-instance-manager.ts`, `use-chat.ts` unless task specifically involves streaming
- Pre-existing build errors: Rollup can't resolve @ai-sdk/anthropic, csv.tsx has implicit any — not from Craig's changes

## Proactive Run (17:45 ET)

### Research
- Recent merges: Poncho CI larger runners (#148), gitignore routeTree (#146), USDC balance retry (#141), faster quit (#139), subagent truncate (#138); x402email security audit round 2 (#11)
- Open issues reviewed: x402scan #623 (non-string query params), poncho #142 (CI bot PRs), #129 (citations), #114/#115 (chat icon), #95 (chat search)

### Action
- Fixed x402scan #623: `expandFields()` in schema.ts was silently dropping non-string primitive query param values (numbers, booleans). Added handling to convert them to string representation.
- PR: https://github.com/Merit-Systems/x402scan/pull/640
